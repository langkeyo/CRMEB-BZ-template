---
title: 团购前台
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
code_clipboard: true
highlight_theme: darkula
headingLevel: 2
generator: "@tarslib/widdershins v4.0.30"

---

# 团购前台

Base URLs:

# Authentication

# 售后服务

## GET 获取用户售后列表

GET /api/group/aftersales/list

获取当前用户的售后申请列表，支持筛选和分页

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|status|query|integer| 否 |售后状态筛选|
|keyword|query|string| 否 |关键词搜索（售后单号或问题描述）|
|time|query|array[string]| 否 |时间范围筛选|
|page|query|integer| 否 |页码|
|limit|query|integer| 否 |每页数量|
|Authori-Zation|header|string| 否 |none|

#### 枚举值

|属性|值|
|---|---|
|status|1|
|status|2|
|status|3|
|status|4|

> 返回示例

> 200 Response

```json
{
  "status": 200,
  "msg": "success",
  "data": {
    "list": [
      {
        "id": 1,
        "after_sales_no": "AS20231201123456",
        "user_id": 123,
        "product_id": 456,
        "community_id": 789,
        "leader_id": 101,
        "order_id": 202,
        "problem_description": "商品质量有问题",
        "status": 1,
        "status_text": "待处理",
        "solution_type": 0,
        "solution_type_text": "未处理",
        "create_time": "2023-12-01 12:34:56",
        "create_time_text": "2023-12-01 12:34:56",
        "user": {
          "nickname": "张三",
          "phone": "13800138000",
          "avatar": "https://example.com/avatar.jpg"
        },
        "leader": {
          "nickname": "李团长",
          "phone": "13900139000"
        },
        "community": {
          "name": "阳光社区"
        },
        "product": {
          "title": "新鲜苹果",
          "image": "https://example.com/product.jpg"
        },
        "problem_images": [
          {
            "image_url": null,
            "annotation": null
          }
        ]
      }
    ],
    "count": 50
  }
}
```

> 401 Response

```json
{
  "status": 401,
  "msg": "请先登录"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功获取售后列表|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|未授权访问|[Error](#schemaerror)|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» status|integer|false|none||none|
|» msg|string|false|none||none|
|» data|object|false|none||none|
|»» list|[[AftersalesItem](#schemaaftersalesitem)]|false|none||none|
|»»» id|integer|false|none||售后申请ID|
|»»» after_sales_no|string|false|none||售后单号|
|»»» user_id|integer|false|none||用户ID|
|»»» product_id|integer|false|none||商品ID|
|»»» community_id|integer|false|none||社区ID|
|»»» leader_id|integer|false|none||团长ID|
|»»» order_id|integer|false|none||订单ID|
|»»» problem_description|string|false|none||问题描述|
|»»» status|integer|false|none||状态（1:待处理,2:处理中,3:已解决,4:已关闭）|
|»»» status_text|string|false|none||状态文本|
|»»» solution_type|integer|false|none||解决方案类型|
|»»» solution_type_text|string|false|none||解决方案类型文本|
|»»» create_time|string|false|none||创建时间|
|»»» create_time_text|string|false|none||创建时间文本|
|»»» user|object|false|none||none|
|»»»» nickname|string|false|none||none|
|»»»» phone|string|false|none||none|
|»»»» avatar|string|false|none||none|
|»»» leader|object|false|none||none|
|»»»» nickname|string|false|none||none|
|»»»» phone|string|false|none||none|
|»»» community|object|false|none||none|
|»»»» name|string|false|none||none|
|»»» product|object|false|none||none|
|»»»» title|string|false|none||none|
|»»»» image|string|false|none||none|
|»»» problem_images|[object]|false|none||问题图片|
|»»»» image_url|string|false|none||none|
|»»»» annotation|string|false|none||none|
|»» count|integer|false|none||总数量|

状态码 **401**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

## GET 获取售后详情

GET /api/group/aftersales/detail/{id}

获取指定售后申请的详细信息

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|path|integer| 是 |售后申请ID|
|Authori-Zation|header|string| 否 |none|

> 返回示例

> 200 Response

```json
{
  "status": 200,
  "msg": "success",
  "data": {
    "id": 1,
    "after_sales_no": "AS20231201123456",
    "user_id": 123,
    "product_id": 456,
    "community_id": 789,
    "leader_id": 101,
    "order_id": 202,
    "problem_description": "商品质量有问题",
    "status": 1,
    "status_text": "待处理",
    "solution_type": 0,
    "solution_type_text": "未处理",
    "create_time": "2023-12-01 12:34:56",
    "create_time_text": "2023-12-01 12:34:56",
    "user": {
      "nickname": "张三",
      "phone": "13800138000",
      "avatar": "https://example.com/avatar.jpg"
    },
    "leader": {
      "nickname": "李团长",
      "phone": "13900139000"
    },
    "community": {
      "name": "阳光社区"
    },
    "product": {
      "title": "新鲜苹果",
      "image": "https://example.com/product.jpg"
    },
    "problem_images": [
      {
        "image_url": "https://example.com/problem1.jpg",
        "annotation": "包装破损图片"
      }
    ],
    "solution_description": "已为用户办理退款",
    "admin_remark": "商品确实有质量问题",
    "leader_remark": "用户情况属实",
    "processed_at": "2023-12-01 14:30:00",
    "completed_at": "2023-12-02 10:15:00",
    "solution_images": [
      {
        "image_url": "https://example.com/solution1.jpg",
        "annotation": "退款凭证"
      }
    ]
  }
}
```

> 400 Response

```json
{
  "status": 400,
  "msg": "请求参数错误"
}
```

> 401 Response

```json
{
  "status": 401,
  "msg": "请先登录"
}
```

> 403 Response

```json
{
  "status": 403,
  "msg": "无权限查看"
}
```

> 404 Response

```json
{
  "status": 404,
  "msg": "售后申请不存在"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功获取售后详情|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|请求参数错误|[Error](#schemaerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|未授权访问|[Error](#schemaerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|禁止访问|[Error](#schemaerror)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|资源不存在|[Error](#schemaerror)|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» status|integer|false|none||none|
|» msg|string|false|none||none|
|» data|any|false|none||none|

*allOf*

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|»» *anonymous*|[AftersalesItem](#schemaaftersalesitem)|false|none||none|
|»»» id|integer|false|none||售后申请ID|
|»»» after_sales_no|string|false|none||售后单号|
|»»» user_id|integer|false|none||用户ID|
|»»» product_id|integer|false|none||商品ID|
|»»» community_id|integer|false|none||社区ID|
|»»» leader_id|integer|false|none||团长ID|
|»»» order_id|integer|false|none||订单ID|
|»»» problem_description|string|false|none||问题描述|
|»»» status|integer|false|none||状态（1:待处理,2:处理中,3:已解决,4:已关闭）|
|»»» status_text|string|false|none||状态文本|
|»»» solution_type|integer|false|none||解决方案类型|
|»»» solution_type_text|string|false|none||解决方案类型文本|
|»»» create_time|string|false|none||创建时间|
|»»» create_time_text|string|false|none||创建时间文本|
|»»» user|object|false|none||none|
|»»»» nickname|string|false|none||none|
|»»»» phone|string|false|none||none|
|»»»» avatar|string|false|none||none|
|»»» leader|object|false|none||none|
|»»»» nickname|string|false|none||none|
|»»»» phone|string|false|none||none|
|»»» community|object|false|none||none|
|»»»» name|string|false|none||none|
|»»» product|object|false|none||none|
|»»»» title|string|false|none||none|
|»»»» image|string|false|none||none|
|»»» problem_images|[object]|false|none||问题图片|
|»»»» image_url|string|false|none||none|
|»»»» annotation|string|false|none||none|

*and*

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|»» *anonymous*|object|false|none||none|
|»»» solution_description|string|false|none||解决方案描述|
|»»» admin_remark|string|false|none||管理员备注|
|»»» leader_remark|string|false|none||团长备注|
|»»» processed_at|string|false|none||处理时间|
|»»» completed_at|string|false|none||完成时间|
|»»» solution_images|[object]|false|none||解决方案图片|
|»»»» image_url|string|false|none||none|
|»»»» annotation|string|false|none||none|

状态码 **400**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

状态码 **401**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

状态码 **403**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

状态码 **404**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

## POST 用户提交售后申请

POST /api/group/aftersales/create

用户自助提交售后申请，使用goods_id验证关联，自动获取社区团长信息

> Body 请求参数

```yaml
order_id: 69
goods_id: 3
problem_description: 商品质量问题，需要退换货
user_phone: "18888888888"
images: /uploads/aftersales/image1.jpg

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|Authori-Zation|header|string| 否 |none|
|body|body|object| 否 |none|
|» order_id|body|integer| 是 |订单ID|
|» goods_id|body|integer| 是 |商品goods_id|
|» problem_description|body|string| 是 |问题描述|
|» user_phone|body|string| 否 |用户手机号（可选）|
|» images|body|string| 否 |问题图片路径|

> 返回示例

> 200 Response

```json
{
  "status": 200,
  "msg": "售后申请提交成功",
  "data": {
    "id": 72,
    "after_sales_no": "AS202507251503229332",
    "order_id": 69,
    "user_id": 3,
    "product_id": 5,
    "community_id": 3,
    "leader_id": 6,
    "user_phone": "18731056784",
    "status": 1,
    "create_time": "2025-07-25 15:03:22"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|申请成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» status|integer|false|none||none|
|» msg|string|false|none||none|
|» data|object|false|none||none|
|»» id|integer|false|none||none|
|»» after_sales_no|string|false|none||none|
|»» order_id|integer|false|none||none|
|»» user_id|integer|false|none||none|
|»» product_id|integer|false|none||none|
|»» community_id|integer|false|none||none|
|»» leader_id|integer|false|none||none|
|»» user_phone|string|false|none||none|
|»» status|integer|false|none||none|
|»» create_time|string|false|none||none|

## POST 取消售后申请

POST /api/group/aftersales/cancel/{id}

用户取消待处理状态的售后申请

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|path|integer| 是 |售后申请ID|
|Authori-Zation|header|string| 否 |none|

> 返回示例

> 200 Response

```json
{
  "status": 200,
  "msg": "取消成功"
}
```

> 400 Response

```json
{
  "status": 400,
  "msg": "请求参数错误"
}
```

> 401 Response

```json
{
  "status": 401,
  "msg": "请先登录"
}
```

> 403 Response

```json
{
  "status": 403,
  "msg": "无权限查看"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功取消售后申请|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|请求参数错误|[Error](#schemaerror)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|未授权访问|[Error](#schemaerror)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|禁止访问|[Error](#schemaerror)|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» status|integer|false|none||none|
|» msg|string|false|none||none|

状态码 **400**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

状态码 **401**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

状态码 **403**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|false|none||错误码|
|» msg|string|false|none||错误消息|

# 数据模型

<h2 id="tocS_AftersalesItem">AftersalesItem</h2>

<a id="schemaaftersalesitem"></a>
<a id="schema_AftersalesItem"></a>
<a id="tocSaftersalesitem"></a>
<a id="tocsaftersalesitem"></a>

```json
{
  "id": 1,
  "after_sales_no": "AS20231201123456",
  "user_id": 123,
  "product_id": 456,
  "community_id": 789,
  "leader_id": 101,
  "order_id": 202,
  "problem_description": "商品质量有问题",
  "status": 1,
  "status_text": "待处理",
  "solution_type": 0,
  "solution_type_text": "未处理",
  "create_time": "2023-12-01 12:34:56",
  "create_time_text": "2023-12-01 12:34:56",
  "user": {
    "nickname": "张三",
    "phone": "13800138000",
    "avatar": "https://example.com/avatar.jpg"
  },
  "leader": {
    "nickname": "李团长",
    "phone": "13900139000"
  },
  "community": {
    "name": "阳光社区"
  },
  "product": {
    "title": "新鲜苹果",
    "image": "https://example.com/product.jpg"
  },
  "problem_images": [
    {
      "image_url": "https://example.com/problem1.jpg",
      "annotation": "包装破损图片"
    }
  ]
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|id|integer|false|none||售后申请ID|
|after_sales_no|string|false|none||售后单号|
|user_id|integer|false|none||用户ID|
|product_id|integer|false|none||商品ID|
|community_id|integer|false|none||社区ID|
|leader_id|integer|false|none||团长ID|
|order_id|integer|false|none||订单ID|
|problem_description|string|false|none||问题描述|
|status|integer|false|none||状态（1:待处理,2:处理中,3:已解决,4:已关闭）|
|status_text|string|false|none||状态文本|
|solution_type|integer|false|none||解决方案类型|
|solution_type_text|string|false|none||解决方案类型文本|
|create_time|string|false|none||创建时间|
|create_time_text|string|false|none||创建时间文本|
|user|object|false|none||none|
|» nickname|string|false|none||none|
|» phone|string|false|none||none|
|» avatar|string|false|none||none|
|leader|object|false|none||none|
|» nickname|string|false|none||none|
|» phone|string|false|none||none|
|community|object|false|none||none|
|» name|string|false|none||none|
|product|object|false|none||none|
|» title|string|false|none||none|
|» image|string|false|none||none|
|problem_images|[object]|false|none||问题图片|
|» image_url|string|false|none||none|
|» annotation|string|false|none||none|

<h2 id="tocS_AftersalesDetail">AftersalesDetail</h2>

<a id="schemaaftersalesdetail"></a>
<a id="schema_AftersalesDetail"></a>
<a id="tocSaftersalesdetail"></a>
<a id="tocsaftersalesdetail"></a>

```json
{
  "id": 1,
  "after_sales_no": "AS20231201123456",
  "user_id": 123,
  "product_id": 456,
  "community_id": 789,
  "leader_id": 101,
  "order_id": 202,
  "problem_description": "商品质量有问题",
  "status": 1,
  "status_text": "待处理",
  "solution_type": 0,
  "solution_type_text": "未处理",
  "create_time": "2023-12-01 12:34:56",
  "create_time_text": "2023-12-01 12:34:56",
  "user": {
    "nickname": "张三",
    "phone": "13800138000",
    "avatar": "https://example.com/avatar.jpg"
  },
  "leader": {
    "nickname": "李团长",
    "phone": "13900139000"
  },
  "community": {
    "name": "阳光社区"
  },
  "product": {
    "title": "新鲜苹果",
    "image": "https://example.com/product.jpg"
  },
  "problem_images": [
    {
      "image_url": "https://example.com/problem1.jpg",
      "annotation": "包装破损图片"
    }
  ],
  "solution_description": "已为用户办理退款",
  "admin_remark": "商品确实有质量问题",
  "leader_remark": "用户情况属实",
  "processed_at": "2023-12-01 14:30:00",
  "completed_at": "2023-12-02 10:15:00",
  "solution_images": [
    {
      "image_url": "https://example.com/solution1.jpg",
      "annotation": "退款凭证"
    }
  ]
}

```

### 属性

allOf

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|*anonymous*|[AftersalesItem](#schemaaftersalesitem)|false|none||none|

and

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|*anonymous*|object|false|none||none|
|» solution_description|string|false|none||解决方案描述|
|» admin_remark|string|false|none||管理员备注|
|» leader_remark|string|false|none||团长备注|
|» processed_at|string|false|none||处理时间|
|» completed_at|string|false|none||完成时间|
|» solution_images|[object]|false|none||解决方案图片|
|»» image_url|string|false|none||none|
|»» annotation|string|false|none||none|

<h2 id="tocS_Error">Error</h2>

<a id="schemaerror"></a>
<a id="schema_Error"></a>
<a id="tocSerror"></a>
<a id="tocserror"></a>

```json
{
  "code": 0,
  "msg": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|false|none||错误码|
|msg|string|false|none||错误消息|

